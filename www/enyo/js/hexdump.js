function docss(a){return"<font color=black>"+a+"</font>"}enyo.kind({name:"Hexdump",kind:"Scroller",tag:"div",style:"margin:0px;background-color:#c0c0c0;color:black",data:null,components:[{tag:"div",allowHtml:!0,classes:"colorbar",name:"colorbar"},{tag:"div",content:"^",classes:"moreless",ontap:"less"},{tag:"pre",allowHtml:!0,name:"text",content:"..",style:"margin-left:5px;color:black"},{tag:"div",content:"v",classes:"moreless",ontap:"more"}],min:0,max:0,block:1024,base:"entry0",less:function(){var a=this.$.text;this.min+=this.block,r2.get_hexdump(this.base+"-"+this.min,this.block,function(b){b=css(r2.filter_asm(b,"px"));var c=r2ui._hex.getScrollBounds().height;a.setContent("<div class='enyo-selectable'>"+b+a.getContent()+"</div>");var d=r2ui._hex.getScrollBounds().height;r2ui._hex.scrollTo(0,d-c)})},more:function(){var a=this.$.text;this.max+=this.block,r2.get_hexdump(this.base+"+"+this.max,this.block,function(b){b=docss(r2.filter_asm(b,"px")),a.setContent("<div class='enyo-selectable'>"+a.getContent()+b+"</div>")})},seek:function(a){var b=this.$.text;this.base=a,this.min=this.max=0,r2.get_hexdump(a,this.block,function(a){a=docss(r2.filter_asm(a,"px")),b.setContent("<div class='enyo-selectable'>"+a+"</div>")}),this.colorbar_create()},create:function(){this.inherited(arguments),this.$.text,this.seek("entry0"),r2ui._hex=this,this.colorbar_create()},setupItem:function(a,b){return this.$.msg.setContent(this.data[b.index]),!0},colorbar_create:function(){var a=this;r2.cmd("pvj",function(b){try{var c=JSON.parse(b)}catch(d){return void alert(d)}for(var e="<table class='colorbar'><tr valign=top style='height:20px;border-spacing:0'>",f={flags:"#c0c0c0",comments:"yellow",functions:"#5050f0",strings:"orange"},g="",h=10,i=30,j=0;j<c.blocks.length;j++){var k=c.blocks[j],l="<div style='overflow:hidden;background-color:#404040;width:"+h+"px;'>&nbsp;</div>";if(k.offset){var l="<table height="+i+" style='color:black;border-spacing:0px'>",m=0;for(var n in f)k[n]&&m++;if(m++,1==m)break;var o=i/m;for(var n in f)f[n],k[n]&&(l+="<tr><td style='width:"+h+"px;background-color:"+f[n]+"'><div style='width:"+h+"px;overflow:hidden;height:"+o+"px'>&nbsp;</div></td></tr>");l+="</table>",g="0x"+k.offset.toString(16)}else g="0x"+(c.from+c.blocksize*j).toString(16);e+="<td onclick='r2ui.seek("+g+",true)' title='"+g+"' style='height:"+i+"px' width=15px>"+l+"</td>"}e+="</tr></table>",a.$.colorbar.setContent(e)})}});